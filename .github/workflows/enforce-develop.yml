# .github/workflows/enforce-develop.yml
name: Enforce develop â†’ main only

on:
  pull_request:
    types: [opened, edited, synchronize, reopened, labeled, unlabeled, ready_for_review]

jobs:
  guard:
    runs-on: ubuntu-latest
    steps:
      - name: Block PRs to :main unless head is our local :develop
        if: ${{ github.event.pull_request.base.ref == 'main' && (github.event.pull_request.head.ref != 'develop' || github.event.pull_request.head.repo.full_name != github.repository) }}
        run: |
          echo "âŒ PRs to :main can only be created from our local :develop branch."
          echo "ğŸ‘‰ Please re-create the PR towards the :develop branch."
          exit 1